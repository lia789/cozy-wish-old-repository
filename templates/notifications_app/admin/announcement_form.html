{% extends 'admin_base.html' %}
{% load static %}

{% block title %}{{ title }}{% endblock %}

{% block admin_extra_css %}
<link rel="stylesheet" href="{% static 'css/notifications_app/notifications_app.css' %}">
{% endblock %}

{% block content %}
<div class="container-fluid py-5 radial-gradient-bg">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'notifications_app:admin_notification_dashboard' %}">Notification Dashboard</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{ title }}</li>
        </ol>
    </nav>

    <div class="admin-section-card">
        <div class="card-header">
            <h6 class="mb-0">{{ title }}</h6>
        </div>
        <div class="card-body">
            <form method="post">
                {% csrf_token %}

                <div class="mb-3">
                    <label for="{{ form.title.id_for_label }}" class="form-label">Title</label>
                    {{ form.title }}
                    {% if form.title.help_text %}
                    <div class="form-text">{{ form.title.help_text }}</div>
                    {% endif %}
                    {% if form.title.errors %}
                    <div class="invalid-feedback d-block">
                        {% for error in form.title.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="mb-3">
                    <label for="{{ form.message.id_for_label }}" class="form-label">Message</label>
                    {{ form.message }}
                    {% if form.message.help_text %}
                    <div class="form-text">{{ form.message.help_text }}</div>
                    {% endif %}
                    {% if form.message.errors %}
                    <div class="invalid-feedback d-block">
                        {% for error in form.message.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="{{ form.priority.id_for_label }}" class="form-label">Priority</label>
                        {{ form.priority }}
                        {% if form.priority.help_text %}
                        <div class="form-text">{{ form.priority.help_text }}</div>
                        {% endif %}
                        {% if form.priority.errors %}
                        <div class="invalid-feedback d-block">
                            {% for error in form.priority.errors %}
                            {{ error }}
                            {% endfor %}
                        </div>
                        {% endif %}
                    </div>

                    <div class="col-md-6">
                        <label for="{{ form.expires_in_days.id_for_label }}" class="form-label">Expires In (Days)</label>
                        {{ form.expires_in_days }}
                        {% if form.expires_in_days.help_text %}
                        <div class="form-text">{{ form.expires_in_days.help_text }}</div>
                        {% endif %}
                        {% if form.expires_in_days.errors %}
                        <div class="invalid-feedback d-block">
                            {% for error in form.expires_in_days.errors %}
                            {{ error }}
                            {% endfor %}
                        </div>
                        {% endif %}
                    </div>
                </div>

                <div class="alert alert-info mb-4">
                    <h6 class="alert-heading">About System Announcements</h6>
                    <p class="mb-0">System announcements are notifications that are sent to all users. They are displayed prominently in the notification center and can be used to communicate important information to all users of the platform.</p>
                </div>

                <div class="d-flex justify-content-between">
                    <a href="{% url 'notifications_app:admin_notification_dashboard' %}" class="btn btn-outline-primary"><i class="fas fa-times me-1"></i> Cancel</a>
                    <button type="submit" class="btn btn-primary"><i class="fas fa-plus me-1"></i> Create Announcement</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
